@HEADER-COMMENT@

@HEADER@
Group:          System/YaST
License:        GPL-2.0
BuildRequires:	perl-XML-Writer update-desktop-files yast2-devtools yast2-testsuite yast2-packager autoyast2-installation yast2-security yast2-add-on-creator yast2 yast2-slp

PreReq:         %fillup_prereq

Requires:	autoyast2-installation yast2-security yast2-country

# ag_pattern handling gzipped files
Requires:	yast2-add-on-creator >= 2.17.1

# SourceDialogs::IsPlainDir()
Requires:	yast2-packager >= 2.16.20

# changes in ag_anyxml agent
# Wizard_hw drop
# Wizard::SetDesktopTitleAndIcon
Requires:	yast2 >= 2.21.22

# Pkg::SourceForceRefreshNow()
Requires:	yast2-pkg-bindings >= 2.17.6

# New API of StorageDevices.ycp
Conflicts:      yast2-storage < 2.16.1

# prefer to install package with real templates
Recommends:	kiwi-config-openSUSE

BuildArchitectures:	noarch

Summary:	YaST2 - Module for Creating New Products

%description
A wizard for creating your own product (installation images, live ISO,
XEN images etc.), based on existing installation sources.

@PREP@

@BUILD@

@INSTALL@

install -d $RPM_BUILD_ROOT/var/lib/YaST2/product-creator

@CLEAN@
%post
%{fillup_only -n product-creator}

%files
%defattr(-,root,root)
%dir @yncludedir@/product-creator
@yncludedir@/product-creator/*
@clientdir@/product-creator.ycp
@clientdir@/image-creator.ycp
@clientdir@/kiwi.ycp
@moduledir@/*.ycp
@moduledir@/*.ybc
@desktopdir@/product-creator.desktop
@desktopdir@/image-creator.desktop
@ybindir@/y2mkiso
%doc @docdir@
%doc @docdir@/README.expert

%dir @ydatadir@/product-creator
@ydatadir@/product-creator/*
#%dir /etc/YaST2/product-creator
@scrconfdir@/*.scr
/var/adm/fillup-templates/sysconfig.product-creator
